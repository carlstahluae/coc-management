<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta
      name="apple-mobile-web-app-status-bar-style"
      content="black-translucent"
    />
    <meta name="theme-color" content="#1a1d29" />
    <link
      rel="icon"
      type="image/x-icon"
      href="https://www.carlstahl.com/images/favicon.ico"
    />
    <title>CoC Management System - Carl Stahl</title>
    <style>
      /* =====================================================
           CSS RESET & MODERN NORMALIZATION
        ===================================================== */
      *,
      *::before,
      *::after {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      html {
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        text-rendering: optimizeLegibility;
        scroll-behavior: smooth;
      }

      :root {
        /* KSA Green Theme - Enhanced */
        --ksa-primary: #2d6a4f;
        --ksa-primary-dark: #1b4332;
        --ksa-secondary: #40916c;
        --ksa-light: #95d5b2;
        --ksa-bg: #f1f8f4;
        --ksa-gradient: linear-gradient(135deg, #2d6a4f 0%, #40916c 100%);

        /* UAE Red Theme - Enhanced */
        --uae-primary: #9b2226;
        --uae-primary-dark: #6a0c0f;
        --uae-secondary: #bb3e03;
        --uae-light: #ee9b00;
        --uae-bg: #fef6f4;
        --uae-gradient: linear-gradient(135deg, #9b2226 0%, #bb3e03 100%);

        /* Neutral Colors - Extended Palette */
        --sidebar-bg: #1a1d29;
        --sidebar-hover: #252936;
        --sidebar-active: #2d3142;
        --topbar-bg: #ffffff;
        --content-bg: #f5f7fa;
        --card-bg: #ffffff;
        --text-primary: #2d3748;
        --text-secondary: #718096;
        --text-tertiary: #a0aec0;
        --border-color: #e2e8f0;
        --border-hover: #cbd5e0;

        /* Status Colors */
        --success: #10b981;
        --warning: #f59e0b;
        --error: #ef4444;
        --info: #3b82f6;

        /* Shadows - Enhanced Depth */
        --shadow-xs: 0 1px 2px rgba(0, 0, 0, 0.05);
        --shadow-sm: 0 2px 4px rgba(0, 0, 0, 0.08);
        --shadow-md: 0 4px 8px rgba(0, 0, 0, 0.1);
        --shadow-lg: 0 10px 25px rgba(0, 0, 0, 0.15);
        --shadow-xl: 0 20px 40px rgba(0, 0, 0, 0.2);
        --shadow-2xl: 0 25px 50px rgba(0, 0, 0, 0.25);

        /* Layout */
        --sidebar-width: 280px;
        --topbar-height: 70px;
        --border-radius: 12px;
        --border-radius-sm: 8px;
        --border-radius-lg: 16px;

        /* Transitions */
        --transition-fast: 150ms ease;
        --transition-base: 250ms ease;
        --transition-slow: 350ms ease;

        /* Z-Index Scale */
        --z-dropdown: 1000;
        --z-sticky: 1020;
        --z-fixed: 1030;
        --z-modal-backdrop: 1040;
        --z-modal: 1050;
        --z-popover: 1060;
        --z-tooltip: 1070;
      }

      body {
        font-family:
          -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen",
          "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue",
          sans-serif;
        background: var(--content-bg);
        color: var(--text-primary);
        overflow-x: hidden;
        line-height: 1.6;
      }

      /* =====================================================
           ACCESSIBILITY ENHANCEMENTS
        ===================================================== */
      .sr-only {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        white-space: nowrap;
        border-width: 0;
      }

      a,
      button,
      [role="button"] {
        -webkit-tap-highlight-color: transparent;
      }

      button,
      [role="button"] {
        cursor: pointer;
        user-select: none;
      }

      button:disabled {
        cursor: not-allowed;
        opacity: 0.6;
      }

      :focus-visible {
        outline: 2px solid var(--info);
        outline-offset: 2px;
      }

      /* =====================================================
           LAYOUT STRUCTURE
        ===================================================== */
      .app-container {
        display: flex;
        min-height: 100vh;
        position: relative;
      }

      /* =====================================================
           ENHANCED SIDEBAR
        ===================================================== */
      .sidebar {
        width: var(--sidebar-width);
        background: var(--sidebar-bg);
        color: white;
        position: fixed;
        left: 0;
        top: 0;
        height: 100vh;
        overflow-y: auto;
        overflow-x: hidden;
        z-index: var(--z-fixed);
        transition: transform var(--transition-base);
        box-shadow: var(--shadow-lg);
        display: flex;
        flex-direction: column;
      }

      .sidebar::-webkit-scrollbar {
        width: 6px;
      }

      .sidebar::-webkit-scrollbar-track {
        background: rgba(255, 255, 255, 0.05);
      }

      .sidebar::-webkit-scrollbar-thumb {
        background: rgba(255, 255, 255, 0.2);
        border-radius: 3px;
        transition: background var(--transition-fast);
      }

      .sidebar::-webkit-scrollbar-thumb:hover {
        background: rgba(255, 255, 255, 0.3);
      }

      .sidebar-header {
        padding: 1.5rem;
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        display: flex;
        align-items: center;
        gap: 1rem;
        background: rgba(0, 0, 0, 0.2);
        backdrop-filter: blur(10px);
        position: sticky;
        top: 0;
        z-index: 10;
      }

      .sidebar-logo {
        height: 45px;
        width: auto;
        filter: brightness(0) invert(1);
        transition: transform var(--transition-base);
      }

      .sidebar-logo:hover {
        transform: scale(1.05);
      }

      .sidebar-title {
        font-size: 0.875rem;
        font-weight: 600;
        line-height: 1.3;
        opacity: 0.95;
      }

      .sidebar-nav {
        padding: 1.5rem 0;
        flex: 1;
        overflow-y: auto;
      }

      .nav-section {
        margin-bottom: 2rem;
      }

      .nav-section-title {
        padding: 0 1.5rem 0.75rem;
        font-size: 0.7rem;
        text-transform: uppercase;
        letter-spacing: 1.2px;
        color: rgba(255, 255, 255, 0.5);
        font-weight: 700;
      }

      .nav-item {
        padding: 0.875rem 1.5rem;
        display: flex;
        align-items: center;
        gap: 0.875rem;
        cursor: pointer;
        transition: all var(--transition-fast);
        border-left: 3px solid transparent;
        color: rgba(255, 255, 255, 0.8);
        font-size: 0.9rem;
        position: relative;
        overflow: hidden;
      }

      .nav-item::before {
        content: "";
        position: absolute;
        left: 0;
        top: 0;
        bottom: 0;
        width: 0;
        background: linear-gradient(
          90deg,
          rgba(255, 255, 255, 0.1),
          transparent
        );
        transition: width var(--transition-base);
      }

      .nav-item:hover::before {
        width: 100%;
      }

      .nav-item:hover {
        background: var(--sidebar-hover);
        color: white;
        border-left-color: rgba(255, 255, 255, 0.3);
      }

      .nav-item.active {
        background: var(--sidebar-active);
        color: white;
        font-weight: 600;
      }

      .nav-item.active.dashboard {
        border-left-color: var(--info);
        background: linear-gradient(
          90deg,
          rgba(59, 130, 246, 0.15),
          transparent
        );
      }

      .nav-item.active.ksa {
        border-left-color: var(--ksa-light);
        background: linear-gradient(
          90deg,
          rgba(64, 145, 108, 0.15),
          transparent
        );
      }

      .nav-item.active.uae {
        border-left-color: var(--uae-light);
        background: linear-gradient(90deg, rgba(187, 62, 3, 0.15), transparent);
      }

      .nav-item-icon {
        font-size: 1.25rem;
        width: 24px;
        text-align: center;
        transition: transform var(--transition-base);
      }

      .nav-item:hover .nav-item-icon {
        transform: scale(1.15);
      }

      .nav-item-text {
        flex: 1;
      }

      .nav-item-badge {
        background: rgba(255, 255, 255, 0.15);
        padding: 0.125rem 0.5rem;
        border-radius: 12px;
        font-size: 0.7rem;
        font-weight: 700;
        backdrop-filter: blur(10px);
      }

      .nav-item-expand {
        font-size: 0.75rem;
        transition: transform var(--transition-fast);
      }

      .nav-item.expanded .nav-item-expand {
        transform: rotate(180deg);
      }

      .nav-submenu {
        max-height: 0;
        overflow: hidden;
        background: rgba(0, 0, 0, 0.2);
        transition: max-height var(--transition-base) ease;
      }

      .nav-submenu.active {
        max-height: 500px;
      }

      .nav-submenu-item {
        padding: 0.75rem 1.5rem 0.75rem 3.5rem;
        display: flex;
        align-items: center;
        gap: 0.75rem;
        cursor: pointer;
        transition: all var(--transition-fast);
        color: rgba(255, 255, 255, 0.7);
        font-size: 0.85rem;
        position: relative;
      }

      .nav-submenu-item::before {
        content: "";
        position: absolute;
        left: 2.5rem;
        top: 50%;
        transform: translateY(-50%);
        width: 4px;
        height: 4px;
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.3);
        transition: all var(--transition-fast);
      }

      .nav-submenu-item:hover {
        background: rgba(255, 255, 255, 0.05);
        color: white;
        padding-left: 3.75rem;
      }

      .nav-submenu-item:hover::before {
        width: 6px;
        height: 6px;
        background: rgba(255, 255, 255, 0.6);
      }

      .nav-submenu-item.active {
        color: white;
        background: rgba(255, 255, 255, 0.08);
        font-weight: 600;
      }

      .nav-submenu-item.active::before {
        width: 8px;
        height: 8px;
        background: white;
      }

      /* =====================================================
           MAIN CONTENT AREA
        ===================================================== */
      .main-content {
        margin-left: var(--sidebar-width);
        flex: 1;
        display: flex;
        flex-direction: column;
        min-height: 100vh;
        transition: margin-left var(--transition-base);
      }

      /* =====================================================
           ENHANCED TOP BAR
        ===================================================== */
      .topbar {
        height: var(--topbar-height);
        background: var(--topbar-bg);
        border-bottom: 1px solid var(--border-color);
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 0 2rem;
        position: sticky;
        top: 0;
        z-index: var(--z-sticky);
        box-shadow: var(--shadow-sm);
        backdrop-filter: blur(10px);
        background: rgba(255, 255, 255, 0.95);
      }

      .topbar-left h1 {
        font-size: 1.5rem;
        font-weight: 700;
        color: var(--text-primary);
        margin-bottom: 0.125rem;
      }

      .topbar-left p {
        font-size: 0.875rem;
        color: var(--text-secondary);
      }

      .topbar-right {
        display: flex;
        align-items: center;
        gap: 1rem;
      }

      .topbar-actions {
        display: flex;
        gap: 0.5rem;
      }

      .topbar-button {
        width: 40px;
        height: 40px;
        border-radius: var(--border-radius-sm);
        background: var(--content-bg);
        border: none;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.125rem;
        color: var(--text-secondary);
        cursor: pointer;
        transition: all var(--transition-fast);
        position: relative;
      }

      .topbar-button:hover {
        background: var(--border-color);
        color: var(--text-primary);
        transform: translateY(-2px);
      }

      .topbar-button.notification::after {
        content: "";
        position: absolute;
        top: 8px;
        right: 8px;
        width: 8px;
        height: 8px;
        background: var(--error);
        border-radius: 50%;
        border: 2px solid var(--topbar-bg);
      }

      .topbar-user {
        display: flex;
        align-items: center;
        gap: 0.75rem;
        padding: 0.5rem 1rem;
        background: var(--content-bg);
        border-radius: var(--border-radius-sm);
        cursor: pointer;
        transition: all var(--transition-fast);
        border: 1px solid transparent;
      }

      .topbar-user:hover {
        background: var(--border-color);
        border-color: var(--border-hover);
        transform: translateY(-1px);
        box-shadow: var(--shadow-sm);
      }

      .user-avatar {
        width: 36px;
        height: 36px;
        border-radius: 50%;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-weight: 700;
        font-size: 0.875rem;
        box-shadow: var(--shadow-sm);
      }

      .user-info {
        display: flex;
        flex-direction: column;
      }

      .user-name {
        font-size: 0.875rem;
        font-weight: 600;
        color: var(--text-primary);
      }

      .user-role {
        font-size: 0.75rem;
        color: var(--text-secondary);
      }

      /* =====================================================
           CONTENT AREA
        ===================================================== */
      .content {
        flex: 1;
        padding: 2rem;
      }

      .content-section {
        display: none;
      }

      .content-section.active {
        display: block;
        animation: fadeInUp 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      }

      /* =====================================================
           ENHANCED DASHBOARD
        ===================================================== */
      .dashboard-header {
        margin-bottom: 2rem;
      }

      .dashboard-header h2 {
        font-size: 2rem;
        color: var(--text-primary);
        margin-bottom: 0.5rem;
        font-weight: 700;
      }

      .dashboard-header p {
        color: var(--text-secondary);
        font-size: 1rem;
      }

      .stats-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
        gap: 1.5rem;
        margin-bottom: 2.5rem;
      }

      .stat-card {
        background: var(--card-bg);
        padding: 1.75rem;
        border-radius: var(--border-radius);
        box-shadow: var(--shadow-md);
        border-left: 4px solid;
        transition: all var(--transition-base) cubic-bezier(0.4, 0, 0.2, 1);
        cursor: pointer;
        position: relative;
        overflow: hidden;
      }

      .stat-card::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(
          135deg,
          transparent 0%,
          rgba(255, 255, 255, 0.5) 100%
        );
        opacity: 0;
        transition: opacity var(--transition-base);
      }

      .stat-card:hover::before {
        opacity: 0.1;
      }

      .stat-card:hover {
        transform: translateY(-6px);
        box-shadow: var(--shadow-xl);
      }

      .stat-card.blue {
        border-left-color: var(--info);
      }

      .stat-card.green {
        border-left-color: var(--ksa-secondary);
      }

      .stat-card.red {
        border-left-color: var(--uae-secondary);
      }

      .stat-card.orange {
        border-left-color: var(--warning);
      }

      .stat-header {
        display: flex;
        align-items: flex-start;
        justify-content: space-between;
        margin-bottom: 1rem;
      }

      .stat-icon {
        width: 52px;
        height: 52px;
        border-radius: 12px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.5rem;
        transition: transform var(--transition-base);
      }

      .stat-card:hover .stat-icon {
        transform: scale(1.1) rotate(5deg);
      }

      .stat-card.blue .stat-icon {
        background: rgba(59, 130, 246, 0.1);
        color: var(--info);
      }

      .stat-card.green .stat-icon {
        background: var(--ksa-bg);
        color: var(--ksa-primary);
      }

      .stat-card.red .stat-icon {
        background: var(--uae-bg);
        color: var(--uae-primary);
      }

      .stat-card.orange .stat-icon {
        background: rgba(245, 158, 11, 0.1);
        color: var(--warning);
      }

      .stat-value {
        font-size: 2.25rem;
        font-weight: 700;
        color: var(--text-primary);
        margin-bottom: 0.25rem;
        line-height: 1;
      }

      .stat-label {
        color: var(--text-secondary);
        font-size: 0.875rem;
        font-weight: 600;
      }

      .stat-trend {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        margin-top: 1rem;
        font-size: 0.8rem;
        font-weight: 600;
        padding-top: 1rem;
        border-top: 1px solid var(--border-color);
      }

      .trend-up {
        color: var(--success);
      }

      .trend-down {
        color: var(--error);
      }

      .stat-card.orange .portal-button {
        margin-top: 0.75rem;
        width: 100%;
        padding: 0.75rem 1rem;
        background: linear-gradient(135deg, var(--info) 0%, #2563eb 100%);
        color: white;
        border: none;
        border-radius: var(--border-radius-sm);
        cursor: pointer;
        font-weight: 600;
        font-size: 0.875rem;
        transition: all var(--transition-fast);
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.5rem;
      }

      .stat-card.orange .portal-button:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(59, 130, 246, 0.4);
      }

      /* =====================================================
           ENHANCED REGION SECTIONS
        ===================================================== */
      .region-header {
        display: flex;
        align-items: center;
        gap: 1.25rem;
        margin-bottom: 2.5rem;
        padding: 2rem;
        border-radius: var(--border-radius);
        box-shadow: var(--shadow-lg);
        position: relative;
        overflow: hidden;
      }

      .region-header::before {
        content: "";
        position: absolute;
        top: 0;
        right: 0;
        width: 200px;
        height: 200px;
        background: radial-gradient(
          circle,
          rgba(255, 255, 255, 0.2) 0%,
          transparent 70%
        );
        border-radius: 50%;
        transform: translate(30%, -30%);
      }

      .region-header.ksa {
        background: var(--ksa-gradient);
        color: white;
      }

      .region-header.uae {
        background: var(--uae-gradient);
        color: white;
      }

      .region-icon {
        font-size: 3.5rem;
        filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.2));
      }

      .region-info {
        flex: 1;
        position: relative;
        z-index: 1;
      }

      .region-info h2 {
        font-size: 1.875rem;
        margin-bottom: 0.375rem;
        font-weight: 700;
      }

      .region-info p {
        opacity: 0.95;
        font-size: 1rem;
      }

      .action-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
        gap: 1.75rem;
      }

      .action-card {
        background: var(--card-bg);
        padding: 2rem;
        border-radius: var(--border-radius);
        box-shadow: var(--shadow-md);
        cursor: pointer;
        transition: all var(--transition-base) cubic-bezier(0.4, 0, 0.2, 1);
        border: 2px solid transparent;
        position: relative;
        overflow: hidden;
        text-decoration: none;
        color: inherit;
        display: block;
      }

      .action-card::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 4px;
        transform: scaleX(0);
        transform-origin: left;
        transition: transform var(--transition-base)
          cubic-bezier(0.4, 0, 0.2, 1);
      }

      .action-card.ksa::before {
        background: var(--ksa-gradient);
      }

      .action-card.uae::before {
        background: var(--uae-gradient);
      }

      .action-card:hover {
        transform: translateY(-8px);
        box-shadow: var(--shadow-2xl);
      }

      .action-card:hover::before {
        transform: scaleX(1);
      }

      .action-card.ksa:hover {
        border-color: var(--ksa-light);
        background: linear-gradient(135deg, var(--ksa-bg) 0%, white 100%);
      }

      .action-card.uae:hover {
        border-color: var(--uae-light);
        background: linear-gradient(135deg, var(--uae-bg) 0%, white 100%);
      }

      .action-icon {
        width: 64px;
        height: 64px;
        border-radius: 14px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 2rem;
        margin-bottom: 1.5rem;
        transition: transform var(--transition-base)
          cubic-bezier(0.4, 0, 0.2, 1);
        box-shadow: var(--shadow-md);
      }

      .action-card:hover .action-icon {
        transform: scale(1.15) rotate(5deg);
      }

      .action-card.ksa .action-icon {
        background: var(--ksa-gradient);
        color: white;
      }

      .action-card.uae .action-icon {
        background: var(--uae-gradient);
        color: white;
      }

      .action-title {
        font-size: 1.25rem;
        font-weight: 700;
        color: var(--text-primary);
        margin-bottom: 0.875rem;
      }

      .action-description {
        color: var(--text-secondary);
        font-size: 0.9375rem;
        line-height: 1.7;
        margin-bottom: 1.5rem;
      }

      .action-footer {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding-top: 1.25rem;
        border-top: 2px solid var(--border-color);
      }

      .action-badge {
        font-size: 0.75rem;
        padding: 0.5rem 1rem;
        border-radius: 24px;
        font-weight: 700;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        transition: all var(--transition-fast);
      }

      .action-card.ksa .action-badge {
        background: var(--ksa-bg);
        color: var(--ksa-primary);
      }

      .action-card.uae .action-badge {
        background: var(--uae-bg);
        color: var(--uae-primary);
      }

      .action-card:hover .action-badge {
        transform: scale(1.05);
      }

      .action-arrow {
        font-size: 1.5rem;
        transition: transform var(--transition-base);
        opacity: 0.5;
        font-weight: 700;
      }

      .action-card:hover .action-arrow {
        transform: translateX(8px);
        opacity: 1;
      }

      .action-card.ksa:hover .action-arrow {
        color: var(--ksa-primary);
      }

      .action-card.uae:hover .action-arrow {
        color: var(--uae-primary);
      }

      /* =====================================================
           QUICK ACTIONS SECTION
        ===================================================== */
      .quick-actions-header {
        margin-top: 3rem;
        margin-bottom: 1.5rem;
        display: flex;
        align-items: center;
        justify-content: space-between;
      }

      .quick-actions-header h3 {
        font-size: 1.375rem;
        font-weight: 700;
        color: var(--text-primary);
      }

      .view-all-link {
        color: var(--info);
        font-size: 0.875rem;
        font-weight: 600;
        text-decoration: none;
        display: flex;
        align-items: center;
        gap: 0.5rem;
        transition: all var(--transition-fast);
      }

      .view-all-link:hover {
        gap: 0.75rem;
      }

      /* =====================================================
           ENHANCED ANIMATIONS
        ===================================================== */
      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(30px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      @keyframes slideDown {
        from {
          opacity: 0;
          max-height: 0;
        }
        to {
          opacity: 1;
          max-height: 500px;
        }
      }

      @keyframes pulse {
        0%,
        100% {
          opacity: 1;
        }
        50% {
          opacity: 0.5;
        }
      }

      /* Loading State */
      .loading {
        animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
      }

      /* =====================================================
           MOBILE RESPONSIVE ENHANCEMENTS
        ===================================================== */
      .mobile-toggle {
        display: none;
        position: fixed;
        bottom: 2rem;
        right: 2rem;
        width: 60px;
        height: 60px;
        background: var(--sidebar-bg);
        color: white;
        border-radius: 50%;
        align-items: center;
        justify-content: center;
        font-size: 1.5rem;
        cursor: pointer;
        box-shadow: var(--shadow-2xl);
        z-index: calc(var(--z-fixed) - 1);
        border: none;
        transition: all var(--transition-base);
      }

      .mobile-toggle:hover {
        transform: scale(1.1);
        box-shadow: 0 25px 60px rgba(0, 0, 0, 0.3);
      }

      .mobile-toggle:active {
        transform: scale(0.95);
      }

      .sidebar-overlay {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.5);
        z-index: calc(var(--z-fixed) - 1);
        opacity: 0;
        transition: opacity var(--transition-base);
        backdrop-filter: blur(4px);
      }

      .sidebar-overlay.active {
        opacity: 1;
      }

      /* =====================================================
           RESPONSIVE BREAKPOINTS
        ===================================================== */
      @media (max-width: 1200px) {
        .stats-grid {
          grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
        }

        .action-grid {
          grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        }
      }

      @media (max-width: 1024px) {
        :root {
          --sidebar-width: 0;
        }

        .sidebar {
          transform: translateX(-100%);
        }

        .sidebar.mobile-active {
          transform: translateX(0);
        }

        .main-content {
          margin-left: 0;
        }

        .mobile-toggle {
          display: flex;
        }

        .sidebar-overlay {
          display: block;
        }

        .sidebar-overlay.active {
          display: block;
        }
      }

      @media (max-width: 768px) {
        .topbar {
          padding: 0 1rem;
          height: 64px;
        }

        .topbar-left h1 {
          font-size: 1.25rem;
        }

        .topbar-left p {
          display: none;
        }

        .user-info {
          display: none;
        }

        .content {
          padding: 1.5rem 1rem;
        }

        .dashboard-header h2 {
          font-size: 1.5rem;
        }

        .stats-grid {
          grid-template-columns: 1fr;
          gap: 1rem;
        }

        .action-grid {
          grid-template-columns: 1fr;
          gap: 1.25rem;
        }

        .region-header {
          padding: 1.5rem;
        }

        .region-icon {
          font-size: 2.5rem;
        }

        .region-info h2 {
          font-size: 1.5rem;
        }

        .topbar-actions {
          display: none;
        }
      }

      @media (max-width: 480px) {
        .content {
          padding: 1rem 0.75rem;
        }

        .stat-card {
          padding: 1.25rem;
        }

        .action-card {
          padding: 1.5rem;
        }

        .mobile-toggle {
          width: 56px;
          height: 56px;
          bottom: 1.5rem;
          right: 1.5rem;
        }
      }

      /* =====================================================
           DARK MODE SUPPORT (Future Enhancement)
        ===================================================== */
      @media (prefers-color-scheme: dark) {
        /* Dark mode styles can be added here */
      }

      /* =====================================================
           PRINT STYLES
        ===================================================== */
      @media print {
        .sidebar,
        .topbar,
        .mobile-toggle,
        .sidebar-overlay {
          display: none !important;
        }

        .main-content {
          margin-left: 0 !important;
        }

        .content {
          padding: 0 !important;
        }

        .action-card,
        .stat-card {
          break-inside: avoid;
          box-shadow: none !important;
          border: 1px solid var(--border-color) !important;
        }
      }
    </style>
  </head>
  <body>
    <div class="app-container">
      <!-- Sidebar Overlay for Mobile -->
      <div
        class="sidebar-overlay"
        id="sidebarOverlay"
        onclick="toggleSidebar()"
        role="presentation"
      ></div>

      <!-- =====================================================
             SIDEBAR
        ===================================================== -->
      <aside
        class="sidebar"
        id="sidebar"
        role="navigation"
        aria-label="Main navigation"
      >
        <div class="sidebar-header">
          <img
            src="https://www.carlstahl.com/images/logo/CarlStahl_Logo_RGB.svg"
            alt="Carl Stahl Logo"
            class="sidebar-logo"
          />
          <div class="sidebar-title">CoC Management System</div>
        </div>

        <nav class="sidebar-nav">
          <!-- Dashboard -->
          <div class="nav-section">
            <div class="nav-section-title">Main</div>
            <div
              class="nav-item active dashboard"
              onclick="showSection('dashboard')"
              role="button"
              tabindex="0"
              aria-current="page"
            >
              <span class="nav-item-icon" aria-hidden="true">üìä</span>
              <span class="nav-item-text">Dashboard</span>
            </div>
          </div>

          <!-- KSA Section -->
          <div class="nav-section">
            <div class="nav-section-title">Kingdom of Saudi Arabia</div>

            <div
              class="nav-item ksa"
              onclick="toggleSubmenu('ksa-generation')"
              role="button"
              tabindex="0"
            >
              <span class="nav-item-icon" aria-hidden="true">üá∏üá¶</span>
              <span class="nav-item-text">KSA CoC Generation</span>
              <span class="nav-item-badge" aria-label="1 item">1</span>
              <span class="nav-item-expand" aria-hidden="true">‚ñº</span>
            </div>
            <div class="nav-submenu" id="ksa-generation" role="menu">
              <div
                class="nav-submenu-item"
                onclick="showSection('ksa-coc-generation')"
                role="menuitem"
                tabindex="0"
              >
                <span aria-hidden="true">üìù</span>
                <span>Generate CoC Certificate</span>
              </div>
            </div>

            <div
              class="nav-item ksa"
              onclick="toggleSubmenu('ksa-verification')"
              role="button"
              tabindex="0"
            >
              <span class="nav-item-icon" aria-hidden="true">‚úì</span>
              <span class="nav-item-text">KSA CoC Verification</span>
              <span class="nav-item-badge" aria-label="2 items">2</span>
              <span class="nav-item-expand" aria-hidden="true">‚ñº</span>
            </div>
            <div class="nav-submenu" id="ksa-verification" role="menu">
              <div
                class="nav-submenu-item"
                onclick="showSection('ksa-customer-verify')"
                role="menuitem"
                tabindex="0"
              >
                <span aria-hidden="true">üë•</span>
                <span>Customer Verification</span>
              </div>
              <div
                class="nav-submenu-item"
                onclick="showSection('ksa-backoffice-verify')"
                role="menuitem"
                tabindex="0"
              >
                <span aria-hidden="true">üîç</span>
                <span>Backoffice Verification</span>
              </div>
            </div>
          </div>

          <!-- UAE Section -->
          <div class="nav-section">
            <div class="nav-section-title">United Arab Emirates</div>

            <div
              class="nav-item uae"
              onclick="toggleSubmenu('uae-generation')"
              role="button"
              tabindex="0"
            >
              <span class="nav-item-icon" aria-hidden="true">üá¶üá™</span>
              <span class="nav-item-text">UAE CoC Generation</span>
              <span class="nav-item-badge" aria-label="3 items">3</span>
              <span class="nav-item-expand" aria-hidden="true">‚ñº</span>
            </div>
            <div class="nav-submenu" id="uae-generation" role="menu">
              <div
                class="nav-submenu-item"
                onclick="showSection('uae-dubai-general')"
                role="menuitem"
                tabindex="0"
              >
                <span aria-hidden="true">üìã</span>
                <span>Dubai - General CoC</span>
              </div>
              <div
                class="nav-submenu-item"
                onclick="showSection('uae-abudhabi-general')"
                role="menuitem"
                tabindex="0"
              >
                <span aria-hidden="true">üìÑ</span>
                <span>Abu Dhabi - General CoC</span>
              </div>
              <div
                class="nav-submenu-item"
                onclick="showSection('uae-abudhabi-dnv')"
                role="menuitem"
                tabindex="0"
              >
                <span aria-hidden="true">üèÖ</span>
                <span>Abu Dhabi - DNV Type</span>
              </div>
            </div>

            <div
              class="nav-item uae"
              onclick="toggleSubmenu('uae-verification')"
              role="button"
              tabindex="0"
            >
              <span class="nav-item-icon" aria-hidden="true">‚úì</span>
              <span class="nav-item-text">UAE CoC Verification</span>
              <span class="nav-item-badge" aria-label="2 items">2</span>
              <span class="nav-item-expand" aria-hidden="true">‚ñº</span>
            </div>
            <div class="nav-submenu" id="uae-verification" role="menu">
              <div
                class="nav-submenu-item"
                onclick="showSection('uae-customer-verify')"
                role="menuitem"
                tabindex="0"
              >
                <span aria-hidden="true">üë•</span>
                <span>Customer Verification</span>
              </div>
              <div
                class="nav-submenu-item"
                onclick="showSection('uae-backoffice-verify')"
                role="menuitem"
                tabindex="0"
              >
                <span aria-hidden="true">üîç</span>
                <span>Backoffice Verification</span>
              </div>
            </div>
          </div>
        </nav>
      </aside>

      <!-- =====================================================
             MAIN CONTENT
        ===================================================== -->
      <main class="main-content">
        <!-- Top Bar -->
        <header class="topbar" role="banner">
          <div class="topbar-left">
            <h1 id="pageTitle">Dashboard</h1>
            <p id="pageSubtitle">Overview of all CoC operations</p>
          </div>
          <div class="topbar-right">
            <div class="topbar-actions">
              <button
                class="topbar-button notification"
                aria-label="Notifications"
                title="Notifications"
                onclick="toggleNotificationPanel()"
              >
                üîî
                <span class="notification-badge">2</span>
              </button>
              <button
                class="topbar-button"
                aria-label="Settings"
                title="Settings"
              >
                ‚öôÔ∏è
              </button>
            </div>

            <!-- Notification Slider Panel -->
            <div id="notificationPanel" class="notification-panel">
              <div class="notification-panel-header">
                <h3>Notifications</h3>
                <button
                  class="close-panel-btn"
                  onclick="toggleNotificationPanel()"
                >
                  √ó
                </button>
              </div>
              <div class="notification-panel-body">
                <!-- Notification Item 1 -->
                <div class="notification-item unread">
                  <div class="notification-icon">üéâ</div>
                  <div class="notification-content">
                    <div class="notification-title">Notification-01</div>
                    <div class="notification-message">
                      New CoC system launch successfully
                    </div>
                    <ul class="notification-details">
                      <li>Now user can generate the CoC through this system</li>
                      <li>Customer Verification portal Access</li>
                    </ul>
                    <div class="notification-time">12 days ago</div>
                  </div>
                </div>

                <!-- Notification Item 2 -->
                <div class="notification-item">
                  <div class="notification-icon">üéâ</div>
                  <div class="notification-content">
                    <div class="notification-title">Notification-02</div>
                    <div class="notification-message">
                      KSA-System traffic overview
                    </div>
                    <ul class="notification-details">
                      <li>
                        KSA-CoC Verification Portal Tracking analytics updated
                      </li>
                      <li>Live Access Tracking</li>
                    </ul>
                    <div class="notification-time">1 day ago</div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Overlay -->
            <div
              id="notificationOverlay"
              class="notification-overlay"
              onclick="toggleNotificationPanel()"
            ></div>

            <style>
              /* Notification Badge */
              .topbar-button.notification {
                position: relative;
              }

              .notification-badge {
                position: absolute;
                top: -5px;
                right: -5px;
                background: #ff4444;
                color: white;
                border-radius: 50%;
                width: 18px;
                height: 18px;
                font-size: 11px;
                display: flex;
                align-items: center;
                justify-content: center;
                font-weight: bold;
              }

              /* Notification Panel */
              .notification-panel {
                position: fixed;
                top: 0;
                right: -400px;
                width: 400px;
                height: 100vh;
                background: white;
                box-shadow: -4px 0 20px rgba(0, 0, 0, 0.15);
                z-index: 10000;
                transition: right 0.3s ease;
                display: flex;
                flex-direction: column;
              }

              .notification-panel.active {
                right: 0;
              }

              .notification-panel-header {
                padding: 20px;
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: white;
                display: flex;
                justify-content: space-between;
                align-items: center;
                border-bottom: 1px solid rgba(255, 255, 255, 0.2);
              }

              .notification-panel-header h3 {
                margin: 0;
                font-size: 20px;
                font-weight: 600;
              }

              .close-panel-btn {
                background: transparent;
                border: none;
                color: white;
                font-size: 32px;
                cursor: pointer;
                width: 36px;
                height: 36px;
                display: flex;
                align-items: center;
                justify-content: center;
                border-radius: 50%;
                transition: background-color 0.2s;
                line-height: 1;
              }

              .close-panel-btn:hover {
                background-color: rgba(255, 255, 255, 0.2);
              }

              .notification-panel-body {
                flex: 1;
                overflow-y: auto;
                padding: 0;
              }

              /* Notification Item */
              .notification-item {
                padding: 20px;
                border-bottom: 1px solid #eee;
                display: flex;
                gap: 15px;
                transition: background-color 0.2s;
                cursor: pointer;
              }

              .notification-item:hover {
                background-color: #f8f9fa;
              }

              .notification-item.unread {
                background-color: #f0f7ff;
              }

              .notification-item.unread:hover {
                background-color: #e6f2ff;
              }

              .notification-icon {
                font-size: 32px;
                flex-shrink: 0;
              }

              .notification-content {
                flex: 1;
              }

              .notification-title {
                font-weight: 600;
                font-size: 16px;
                color: #333;
                margin-bottom: 5px;
              }

              .notification-message {
                font-size: 14px;
                color: #666;
                margin-bottom: 8px;
              }

              .notification-details {
                margin: 10px 0;
                padding-left: 20px;
                font-size: 13px;
                color: #555;
              }

              .notification-details li {
                margin-bottom: 5px;
              }

              .notification-time {
                font-size: 12px;
                color: #999;
                margin-top: 8px;
              }

              /* Overlay */
              .notification-overlay {
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background-color: rgba(0, 0, 0, 0.5);
                z-index: 9999;
                opacity: 0;
                visibility: hidden;
                transition:
                  opacity 0.3s ease,
                  visibility 0.3s ease;
              }

              .notification-overlay.active {
                opacity: 1;
                visibility: visible;
              }

              /* Responsive */
              @media (max-width: 768px) {
                .notification-panel {
                  width: 100%;
                  right: -100%;
                }
              }

              /* Scrollbar Styling */
              .notification-panel-body::-webkit-scrollbar {
                width: 6px;
              }

              .notification-panel-body::-webkit-scrollbar-track {
                background: #f1f1f1;
              }

              .notification-panel-body::-webkit-scrollbar-thumb {
                background: #888;
                border-radius: 3px;
              }

              .notification-panel-body::-webkit-scrollbar-thumb:hover {
                background: #555;
              }
            </style>

            <script>
              function toggleNotificationPanel() {
                const panel = document.getElementById("notificationPanel");
                const overlay = document.getElementById("notificationOverlay");

                panel.classList.toggle("active");
                overlay.classList.toggle("active");

                // Prevent body scroll when panel is open
                if (panel.classList.contains("active")) {
                  document.body.style.overflow = "hidden";
                } else {
                  document.body.style.overflow = "";
                }
              }

              // Close panel with Escape key
              document.addEventListener("keydown", function (e) {
                if (e.key === "Escape") {
                  const panel = document.getElementById("notificationPanel");
                  const overlay = document.getElementById(
                    "notificationOverlay",
                  );
                  if (panel.classList.contains("active")) {
                    panel.classList.remove("active");
                    overlay.classList.remove("active");
                    document.body.style.overflow = "";
                  }
                }
              });
            </script>

            <div
              class="topbar-user"
              role="button"
              tabindex="0"
              aria-label="User menu"
            >
              <div class="user-avatar" aria-hidden="true">RS</div>
              <div class="user-info">
                <div class="user-name">Rahul/Shebin</div>
                <div class="user-role">System Administrator</div>
              </div>
            </div>
          </div>
        </header>

        <!-- Content Area -->
        <div class="content">
          <!-- DASHBOARD SECTION -->
          <section class="content-section active" id="dashboard">
            <div class="dashboard-header">
              <h2>Welcome to CoC Management System</h2>
              <p>
                Manage and verify certificates across KSA and UAE operations
              </p>
            </div>

            <div class="stats-grid">
              <div class="stat-card blue">
                <div class="stat-header">
                  <div>
                    <div class="stat-value">10</div>
                    <div class="stat-label">Total Certificates</div>
                  </div>
                  <div class="stat-icon" aria-hidden="true">üìä</div>
                </div>
                <div class="stat-trend trend-up">
                  <span aria-hidden="true">‚Üë</span>
                  <span>1% from last month</span>
                </div>
              </div>

              <div class="stat-card green">
                <div class="stat-header">
                  <div>
                    <div class="stat-value">5</div>
                    <div class="stat-label">KSA Certificates</div>
                  </div>
                  <div class="stat-icon" aria-hidden="true">üá∏üá¶</div>
                </div>
                <div class="stat-trend trend-up">
                  <span aria-hidden="true">‚Üë</span>
                  <span>2% from last month</span>
                </div>
              </div>

              <div class="stat-card red">
                <div class="stat-header">
                  <div>
                    <div class="stat-value">5</div>
                    <div class="stat-label">UAE Certificates</div>
                  </div>
                  <div class="stat-icon" aria-hidden="true">üá¶üá™</div>
                </div>
                <div class="stat-trend trend-up">
                  <span aria-hidden="true">‚Üë</span>
                  <span>15% from last month</span>
                </div>
              </div>

              <div
                class="stat-card orange"
                onclick="openVerificationPortal()"
                style="cursor: pointer"
              >
                <div class="stat-header">
                  <div>
                    <div class="stat-icon">üìä</div>
                    <div class="stat-label">
                      KSA Customer Verification Portal
                    </div>
                  </div>
                </div>
                <button
                  onclick="openVerificationPortal(event)"
                  style="
                    margin-top: 10px;
                    padding: 8px 16px;
                    background: #0095ff;
                    color: white;
                    border: none;
                    border-radius: 4px;
                    cursor: pointer;
                    font-weight: 500;
                  "
                >
                  üöÄ Portal Usage Analytics
                </button>
              </div>

              <script>
                function openVerificationPortal(event) {
                  // Prevent event from bubbling if clicked on button
                  if (event) {
                    event.stopPropagation();
                  }

                  // Define popup window dimensions
                  const width = 1200;
                  const height = 800;

                  // Center the popup window
                  const left = (screen.width - width) / 2;
                  const top = (screen.height - height) / 2;

                  // Open popup window
                  window.open(
                    "https://carlstahluae.github.io/coc-ksa-portal-analyt",
                    "VerificationPortal",
                    `width=${width},height=${height},left=${left},top=${top},resizable=yes,scrollbars=yes,toolbar=no,menubar=no,location=no,status=no`,
                  );
                }
              </script>
            </div>

            <div class="quick-actions-header">
              <h3>Quick Actions</h3>
            </div>

            <div class="action-grid">
              <div
                class="action-card ksa"
                onclick="showSection('ksa-coc-generation')"
                role="button"
                tabindex="0"
              >
                <div class="action-icon" aria-hidden="true">üìù</div>
                <div class="action-title">Generate KSA CoC</div>
                <div class="action-description">
                  Create new Certificate of Conformity for Saudi operations
                </div>
                <div class="action-footer">
                  <span class="action-badge">Generate</span>
                  <span class="action-arrow" aria-hidden="true">‚Üí</span>
                </div>
              </div>

              <div
                class="action-card uae"
                onclick="showSection('uae-dubai-general')"
                role="button"
                tabindex="0"
              >
                <div class="action-icon" aria-hidden="true">üìã</div>
                <div class="action-title">Generate UAE CoC</div>
                <div class="action-description">
                  Create new Certificate of Conformity for UAE operations
                </div>
                <div class="action-footer">
                  <span class="action-badge">Generate</span>
                  <span class="action-arrow" aria-hidden="true">‚Üí</span>
                </div>
              </div>

              <div
                class="action-card ksa"
                onclick="showSection('ksa-customer-verify')"
                role="button"
                tabindex="0"
              >
                <div class="action-icon" aria-hidden="true">‚úì</div>
                <div class="action-title">Verify Certificate</div>
                <div class="action-description">
                  Verify authenticity of issued certificates
                </div>
                <div class="action-footer">
                  <span class="action-badge">Verify</span>
                  <span class="action-arrow" aria-hidden="true">‚Üí</span>
                </div>
              </div>
            </div>
          </section>

          <!-- KSA COC GENERATION -->
          <section class="content-section" id="ksa-coc-generation">
            <div class="region-header ksa">
              <div class="region-icon" aria-hidden="true">üá∏üá¶</div>
              <div class="region-info">
                <h2>KSA CoC Generation</h2>
                <p>Carl Stahl For Industry - Kingdom of Saudi Arabia</p>
              </div>
            </div>

            <div class="action-grid">
              <div
                class="action-card ksa"
                onclick="
                  window.open(
                    'https://carlstahluae.github.io/coc-mgt-ksa',
                    '_blank',
                  )
                "
                role="button"
                tabindex="0"
              >
                <div class="action-icon" aria-hidden="true">üìù</div>
                <div class="action-title">Generate New Certificate</div>
                <div class="action-description">
                  Create a new Certificate of Conformity for products and
                  services complying with Saudi standards and regulations.
                </div>
                <div class="action-footer">
                  <span class="action-badge">Start</span>
                  <span class="action-arrow" aria-hidden="true">‚Üí</span>
                </div>
              </div>
            </div>
          </section>

          <!-- KSA CUSTOMER VERIFICATION -->
          <section class="content-section" id="ksa-customer-verify">
            <div class="region-header ksa">
              <div class="region-icon" aria-hidden="true">üë•</div>
              <div class="region-info">
                <h2>KSA Customer Verification</h2>
                <p>Public portal for certificate authentication</p>
              </div>
            </div>
            <div class="action-grid">
              <div
                class="action-card ksa"
                onclick="
                  window.open(
                    'https://carlstahluae.github.io/coc-ksa-portal/',
                    '_blank',
                  )
                "
                role="button"
                tabindex="0"
              >
                <div class="action-icon" aria-hidden="true">üîé</div>
                <div class="action-title">Verify Certificate</div>
                <div class="action-description">
                  Enter certificate number to verify authenticity and view
                  certificate details issued by Carl Stahl KSA.
                </div>
                <div class="action-footer">
                  <span class="action-badge">Verify</span>
                  <span class="action-arrow" aria-hidden="true">‚Üí</span>
                </div>
              </div>
            </div>
          </section>

          <!-- KSA BACKOFFICE VERIFICATION -->
          <section class="content-section" id="ksa-backoffice-verify">
            <div class="region-header ksa">
              <div class="region-icon" aria-hidden="true">üîç</div>
              <div class="region-info">
                <h2>KSA Backoffice Verification</h2>
                <p>Internal verification and management system</p>
              </div>
            </div>
            <div class="action-grid">
              <div class="action-card ksa">
                <div class="action-icon" aria-hidden="true">üóÇÔ∏è</div>
                <div class="action-title">Certificate Database</div>
                <div class="action-description">
                  Access complete database of issued certificates with advanced
                  search and filtering capabilities.
                </div>
                <div class="action-footer">
                  <span class="action-badge">Access</span>
                  <span class="action-arrow" aria-hidden="true">‚Üí</span>
                </div>
              </div>
              <div class="action-card ksa">
                <div class="action-icon" aria-hidden="true">üìä</div>
                <div class="action-title">Analytics & Reports</div>
                <div class="action-description">
                  Generate comprehensive reports and analytics on certificate
                  issuance and verification trends.
                </div>
                <div class="action-footer">
                  <span class="action-badge">View</span>
                  <span class="action-arrow" aria-hidden="true">‚Üí</span>
                </div>
              </div>
            </div>
          </section>

          <!-- UAE DUBAI GENERAL -->
          <section class="content-section" id="uae-dubai-general">
            <div class="region-header uae">
              <div class="region-icon" aria-hidden="true">üá¶üá™</div>
              <div class="region-info">
                <h2>Dubai - General CoC</h2>
                <p>Carl Stahl Lifting Equipment Industries LLC - Dubai</p>
              </div>
            </div>
            <div class="action-grid">
              <a
                href="https://carlstahluae.github.io/coc-mgt-dubai"
                target="_blank"
                rel="noopener noreferrer"
                class="action-card uae"
              >
                <div class="action-icon" aria-hidden="true">üìã</div>
                <div class="action-title">Generate General CoC</div>
                <div class="action-description">
                  Create General Certificates of Conformity for lifting
                  equipment manufactured in Dubai operations.
                </div>
                <div class="action-footer">
                  <span class="action-badge">Start</span>
                  <span class="action-arrow" aria-hidden="true">‚Üí</span>
                </div>
              </a>
            </div>
          </section>

          <!-- UAE ABU DHABI GENERAL -->
          <section class="content-section" id="uae-abudhabi-general">
            <div class="region-header uae">
              <div class="region-icon" aria-hidden="true">üá¶üá™</div>
              <div class="region-info">
                <h2>Abu Dhabi - General CoC</h2>
                <p>Carl Stahl Lifting Equipment Trading LLC - Abu Dhabi</p>
              </div>
            </div>
            <div class="action-grid">
              <a
                href="https://carlstahluae.github.io/coc-mgt-abudhabi"
                target="_blank"
                rel="noopener noreferrer"
                class="action-card uae"
              >
                <div class="action-icon" aria-hidden="true">üìÑ</div>
                <div class="action-title">Generate General CoC</div>
                <div class="action-description">
                  Create General Certificates of Conformity for trading
                  operations based in Abu Dhabi.
                </div>
                <div class="action-footer">
                  <span class="action-badge">Start</span>
                  <span class="action-arrow" aria-hidden="true">‚Üí</span>
                </div>
              </a>
            </div>
          </section>

          <!-- UAE ABU DHABI DNV -->
          <section class="content-section" id="uae-abudhabi-dnv">
            <div class="region-header uae">
              <div class="region-icon" aria-hidden="true">üèÖ</div>
              <div class="region-info">
                <h2>Abu Dhabi - DNV Type Approval</h2>
                <p>Carl Stahl Lifting Equipment Trading LLC - Abu Dhabi</p>
              </div>
            </div>
            <div class="action-grid">
              <div class="action-card uae">
                <div class="action-icon" aria-hidden="true">üèÖ</div>
                <div class="action-title">Generate DNV Type Approval CoC</div>
                <div class="action-description">
                  Create DNV Type Approval Certificates of Conformity for
                  certified lifting equipment with international standards.
                </div>
                <div class="action-footer">
                  <span class="action-badge">DNV Type</span>
                  <span class="action-arrow" aria-hidden="true">‚Üí</span>
                </div>
              </div>
            </div>
          </section>

          <!-- UAE CUSTOMER VERIFICATION -->
          <section class="content-section" id="uae-customer-verify">
            <div class="region-header uae">
              <div class="region-icon" aria-hidden="true">üë•</div>
              <div class="region-info">
                <h2>UAE Customer Verification</h2>
                <p>Public portal for certificate authentication</p>
              </div>
            </div>
            <div class="action-grid">
              <div
                class="action-card uae"
                onclick="
                  window.open(
                    'https://carlstahluae.github.io/coc-uae-portal/',
                    '_blank',
                  )
                "
                role="button"
                tabindex="0"
              >
                <div class="action-icon" aria-hidden="true">üîé</div>
                <div class="action-title">Verify Certificate</div>
                <div class="action-description">
                  Enter certificate number to verify authenticity and view
                  certificate details issued by Carl Stahl UAE.
                </div>
                <div class="action-footer">
                  <span class="action-badge">Verify</span>
                  <span class="action-arrow" aria-hidden="true">‚Üí</span>
                </div>
              </div>
            </div>
          </section>

          <!-- UAE BACKOFFICE VERIFICATION -->
          <section class="content-section" id="uae-backoffice-verify">
            <div class="region-header uae">
              <div class="region-icon" aria-hidden="true">üîç</div>
              <div class="region-info">
                <h2>UAE Backoffice Verification</h2>
                <p>Internal verification and management system</p>
              </div>
            </div>
            <div class="action-grid">
              <div class="action-card uae">
                <div class="action-icon" aria-hidden="true">üóÇÔ∏è</div>
                <div class="action-title">Certificate Database</div>
                <div class="action-description">
                  Access complete database of issued certificates with advanced
                  search and filtering capabilities.
                </div>
                <div class="action-footer">
                  <span class="action-badge">Access</span>
                  <span class="action-arrow" aria-hidden="true">‚Üí</span>
                </div>
              </div>
              <div class="action-card uae">
                <div class="action-icon" aria-hidden="true">üìä</div>
                <div class="action-title">Analytics & Reports</div>
                <div class="action-description">
                  Generate comprehensive reports and analytics on certificate
                  issuance and verification trends.
                </div>
                <div class="action-footer">
                  <span class="action-badge">View</span>
                  <span class="action-arrow" aria-hidden="true">‚Üí</span>
                </div>
              </div>
            </div>
          </section>
        </div>
      </main>
    </div>

    <!-- Mobile Toggle Button -->
    <button
      class="mobile-toggle"
      id="mobileToggle"
      onclick="toggleSidebar()"
      aria-label="Toggle navigation menu"
      aria-expanded="false"
    >
      ‚ò∞
    </button>

    <!-- =====================================================
         ENHANCED JAVASCRIPT
    ===================================================== -->
    <script>
      "use strict";

      // =====================================================
      // Application State Management
      // =====================================================
      const AppState = {
        currentSection: "dashboard",
        sidebarExpanded: false,
        activeSubmenus: new Set(),

        setCurrentSection(sectionId) {
          this.currentSection = sectionId;
        },

        toggleSidebar() {
          this.sidebarExpanded = !this.sidebarExpanded;
          return this.sidebarExpanded;
        },

        toggleSubmenu(menuId) {
          if (this.activeSubmenus.has(menuId)) {
            this.activeSubmenus.delete(menuId);
            return false;
          } else {
            this.activeSubmenus.add(menuId);
            return true;
          }
        },

        clearSubmenus() {
          this.activeSubmenus.clear();
        },
      };

      // =====================================================
      // Page Title Configuration
      // =====================================================
      const PAGE_TITLES = {
        dashboard: {
          title: "Dashboard",
          subtitle: "Overview of all CoC operations",
        },
        "ksa-coc-generation": {
          title: "KSA CoC Generation",
          subtitle: "Generate certificates for Saudi Arabia",
        },
        "ksa-customer-verify": {
          title: "KSA Customer Verification",
          subtitle: "Verify certificates - Customer portal",
        },
        "ksa-backoffice-verify": {
          title: "KSA Backoffice Verification",
          subtitle: "Internal verification system",
        },
        "uae-dubai-general": {
          title: "Dubai General CoC",
          subtitle: "Generate certificates - Dubai operations",
        },
        "uae-abudhabi-general": {
          title: "Abu Dhabi General CoC",
          subtitle: "Generate certificates - Abu Dhabi operations",
        },
        "uae-abudhabi-dnv": {
          title: "Abu Dhabi DNV Type Approval",
          subtitle: "Generate DNV certified certificates",
        },
        "uae-customer-verify": {
          title: "UAE Customer Verification",
          subtitle: "Verify certificates - Customer portal",
        },
        "uae-backoffice-verify": {
          title: "UAE Backoffice Verification",
          subtitle: "Internal verification system",
        },
      };

      // =====================================================
      // DOM Utilities
      // =====================================================
      const DOM = {
        sidebar: null,
        sidebarOverlay: null,
        mobileToggle: null,
        pageTitle: null,
        pageSubtitle: null,

        init() {
          this.sidebar = document.getElementById("sidebar");
          this.sidebarOverlay = document.getElementById("sidebarOverlay");
          this.mobileToggle = document.getElementById("mobileToggle");
          this.pageTitle = document.getElementById("pageTitle");
          this.pageSubtitle = document.getElementById("pageSubtitle");
        },

        querySelectorAll(selector) {
          return document.querySelectorAll(selector);
        },

        getElementById(id) {
          return document.getElementById(id);
        },
      };

      // =====================================================
      // Navigation Functions
      // =====================================================
      function showSection(sectionId) {
        // Validate section exists
        const section = DOM.getElementById(sectionId);
        if (!section) {
          console.error(`Section ${sectionId} not found`);
          return;
        }

        // Hide all sections
        DOM.querySelectorAll(".content-section").forEach((section) => {
          section.classList.remove("active");
        });

        // Show selected section
        section.classList.add("active");

        // Update navigation items
        DOM.querySelectorAll(".nav-item").forEach((item) => {
          item.classList.remove("active");
          item.removeAttribute("aria-current");
        });

        DOM.querySelectorAll(".nav-submenu-item").forEach((item) => {
          item.classList.remove("active");
        });

        // Update page title
        updatePageTitle(sectionId);

        // Update state
        AppState.setCurrentSection(sectionId);

        // Close mobile sidebar
        if (window.innerWidth <= 1024) {
          closeSidebar();
        }

        // Scroll to top
        window.scrollTo({ top: 0, behavior: "smooth" });

        // Announce page change for screen readers
        announcePageChange(sectionId);
      }

      function updatePageTitle(sectionId) {
        const titleConfig = PAGE_TITLES[sectionId];
        if (titleConfig) {
          DOM.pageTitle.textContent = titleConfig.title;
          DOM.pageSubtitle.textContent = titleConfig.subtitle;

          // Update document title
          document.title = `${titleConfig.title} - CoC Management System`;
        }
      }

      function announcePageChange(sectionId) {
        const titleConfig = PAGE_TITLES[sectionId];
        if (titleConfig) {
          const announcement = document.createElement("div");
          announcement.setAttribute("role", "status");
          announcement.setAttribute("aria-live", "polite");
          announcement.className = "sr-only";
          announcement.textContent = `Navigated to ${titleConfig.title}`;
          document.body.appendChild(announcement);
          setTimeout(() => announcement.remove(), 1000);
        }
      }

      function toggleSubmenu(menuId) {
        const submenu = DOM.getElementById(menuId);
        if (!submenu) {
          console.error(`Submenu ${menuId} not found`);
          return;
        }

        const isActive = AppState.toggleSubmenu(menuId);

        // Update submenu visibility
        if (isActive) {
          submenu.classList.add("active");
        } else {
          submenu.classList.remove("active");
        }

        // Update parent nav item
        const parentNavItem = submenu.previousElementSibling;
        if (parentNavItem) {
          if (isActive) {
            parentNavItem.classList.add("expanded");
          } else {
            parentNavItem.classList.remove("expanded");
          }
        }
      }

      function toggleSidebar() {
        const isExpanded = AppState.toggleSidebar();

        if (isExpanded) {
          openSidebar();
        } else {
          closeSidebar();
        }
      }

      function openSidebar() {
        DOM.sidebar.classList.add("mobile-active");
        DOM.sidebarOverlay.classList.add("active");
        DOM.mobileToggle.setAttribute("aria-expanded", "true");
        document.body.style.overflow = "hidden";
      }

      function closeSidebar() {
        DOM.sidebar.classList.remove("mobile-active");
        DOM.sidebarOverlay.classList.remove("active");
        DOM.mobileToggle.setAttribute("aria-expanded", "false");
        document.body.style.overflow = "";
        AppState.sidebarExpanded = false;
      }

      // =====================================================
      // External Links
      // =====================================================
      function openVerificationPortal() {
        const width = 1200;
        const height = 800;
        const left = (screen.width - width) / 2;
        const top = (screen.height - height) / 2;

        const windowFeatures = `width=${width},height=${height},left=${left},top=${top},resizable=yes,scrollbars=yes,toolbar=no,menubar=no,location=no,status=no`;

        window.open(
          "https://carlstahluae.github.io/coc-ksa-portal-analyt",
          "VerificationPortal",
          windowFeatures,
        );
      }

      // =====================================================
      // Keyboard Navigation
      // =====================================================
      function setupKeyboardNavigation() {
        // Handle Enter and Space key for nav items
        document.addEventListener("keydown", (e) => {
          if (e.key === "Enter" || e.key === " ") {
            const target = e.target;

            if (target.classList.contains("nav-item")) {
              e.preventDefault();
              target.click();
            } else if (target.classList.contains("nav-submenu-item")) {
              e.preventDefault();
              target.click();
            } else if (target.classList.contains("action-card")) {
              e.preventDefault();
              target.click();
            }
          }

          // Escape key to close sidebar on mobile
          if (e.key === "Escape" && AppState.sidebarExpanded) {
            closeSidebar();
          }
        });
      }

      // =====================================================
      // Performance Optimizations
      // =====================================================
      function debounce(func, wait) {
        let timeout;
        return function executedFunction(...args) {
          const later = () => {
            clearTimeout(timeout);
            func(...args);
          };
          clearTimeout(timeout);
          timeout = setTimeout(later, wait);
        };
      }

      function handleResize() {
        // Close sidebar on desktop
        if (window.innerWidth > 1024 && AppState.sidebarExpanded) {
          closeSidebar();
        }
      }

      // =====================================================
      // Animation Utilities
      // =====================================================
      function addRippleEffect(e) {
        const button = e.currentTarget;
        const ripple = document.createElement("span");
        const rect = button.getBoundingClientRect();
        const size = Math.max(rect.width, rect.height);
        const x = e.clientX - rect.left - size / 2;
        const y = e.clientY - rect.top - size / 2;

        ripple.style.width = ripple.style.height = size + "px";
        ripple.style.left = x + "px";
        ripple.style.top = y + "px";
        ripple.classList.add("ripple");

        button.appendChild(ripple);

        setTimeout(() => ripple.remove(), 600);
      }

      // =====================================================
      // Initialization
      // =====================================================
      document.addEventListener("DOMContentLoaded", function () {
        // Initialize DOM references
        DOM.init();

        // Setup keyboard navigation
        setupKeyboardNavigation();

        // Add resize listener
        window.addEventListener("resize", debounce(handleResize, 250));

        // Add visual feedback to action cards
        DOM.querySelectorAll(".action-card").forEach((card) => {
          card.addEventListener("click", function (e) {
            this.style.transform = "scale(0.98)";
            setTimeout(() => {
              this.style.transform = "";
            }, 150);
          });
        });

        // Add hover effects for better UX
        DOM.querySelectorAll(".stat-card").forEach((card) => {
          card.addEventListener("mouseenter", function () {
            this.style.transition = "all 0.3s cubic-bezier(0.4, 0, 0.2, 1)";
          });
        });

        // Improve focus visibility
        const focusableElements =
          'a, button, input, select, textarea, [tabindex]:not([tabindex="-1"])';
        DOM.querySelectorAll(focusableElements).forEach((element) => {
          element.addEventListener("focus", function () {
            this.classList.add("focused");
          });
          element.addEventListener("blur", function () {
            this.classList.remove("focused");
          });
        });

        // Log initialization
        console.log("CoC Management System initialized successfully");
        console.log("Current section:", AppState.currentSection);
      });

      // =====================================================
      // Service Worker Registration (PWA Support)
      // =====================================================
      if ("serviceWorker" in navigator) {
        window.addEventListener("load", () => {
          // Service worker can be registered here for offline support
          console.log("Service Worker support detected");
        });
      }
    </script>
  </body>
</html>
